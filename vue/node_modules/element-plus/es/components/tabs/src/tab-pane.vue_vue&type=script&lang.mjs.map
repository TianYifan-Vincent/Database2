{"version":3,"file":"tab-pane.vue_vue&type=script&lang.mjs","sources":["../../../../../../packages/components/tabs/src/tab-pane.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"shouldBeRender\"\n    v-show=\"active\"\n    :id=\"`pane-${paneName}`\"\n    class=\"el-tab-pane\"\n    role=\"tabpanel\"\n    :aria-hidden=\"!active\"\n    :aria-labelledby=\"`tab-${paneName}`\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  ref,\n  computed,\n  inject,\n  getCurrentInstance,\n  watch,\n} from 'vue'\nimport type { RootTabs, UpdatePaneStateCallback } from './token'\n\nexport default defineComponent({\n  name: 'ElTabPane',\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    name: {\n      type: String,\n      default: '',\n    },\n    closable: Boolean,\n    disabled: Boolean,\n    lazy: Boolean,\n  },\n  setup(props) {\n    const index = ref<string>(null)\n    const loaded = ref(false)\n    const rootTabs = inject<RootTabs>('rootTabs')\n    const updatePaneState = inject<UpdatePaneStateCallback>('updatePaneState')\n\n    if (!rootTabs || !updatePaneState) {\n      throw new Error(`ElTabPane must use with ElTabs`)\n    }\n\n    const isClosable = computed(() => {\n      return props.closable || rootTabs.props.closable\n    })\n\n    const active = computed(() => {\n      return rootTabs.currentName.value === (props.name || index.value)\n    })\n\n    const paneName = computed((): string => {\n      return props.name || index.value\n    })\n\n    const shouldBeRender = computed(() => {\n      return !props.lazy || loaded.value || active.value\n    })\n\n    watch(active, (val) => {\n      if (val) loaded.value = true\n    })\n\n    const instance = getCurrentInstance()\n    updatePaneState({\n      uid: instance.uid,\n      instance,\n      props,\n      paneName,\n      active,\n      index,\n      isClosable,\n    })\n\n    return {\n      index,\n      loaded,\n      isClosable,\n      active,\n      paneName,\n      shouldBeRender,\n    }\n  },\n})\n</script>\n"],"names":[],"mappings":";;AAwBA,aAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AAAA,IACL,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,UAAU;AAAA,IACV,UAAU;AAAA,IACV,MAAM;AAAA;AAAA,EAER,MAAM,OAAO;AACX,UAAM,QAAQ,IAAY;AAC1B,UAAM,SAAS,IAAI;AACnB,UAAM,WAAW,OAAiB;AAClC,UAAM,kBAAkB,OAAgC;AAExD,QAAI,CAAC,YAAY,CAAC,iBAAiB;AACjC,YAAM,IAAI,MAAM;AAAA;AAGlB,UAAM,aAAa,SAAS,MAAM;AAChC,aAAO,MAAM,YAAY,SAAS,MAAM;AAAA;AAG1C,UAAM,SAAS,SAAS,MAAM;AAC5B,aAAO,SAAS,YAAY,iBAAiB,QAAQ,MAAM;AAAA;AAG7D,UAAM,WAAW,SAAS,MAAc;AACtC,aAAO,MAAM,QAAQ,MAAM;AAAA;AAG7B,UAAM,iBAAiB,SAAS,MAAM;AACpC,aAAO,CAAC,MAAM,QAAQ,OAAO,SAAS,OAAO;AAAA;AAG/C,UAAM,QAAQ,CAAC,QAAQ;AACrB,UAAI;AAAK,eAAO,QAAQ;AAAA;AAG1B,UAAM,WAAW;AACjB,oBAAgB;AAAA,MACd,KAAK,SAAS;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAGF,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA;AAAA;;;;"}