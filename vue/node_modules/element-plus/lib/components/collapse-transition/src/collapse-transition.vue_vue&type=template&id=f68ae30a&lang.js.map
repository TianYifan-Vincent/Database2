{"version":3,"file":"collapse-transition.vue_vue&type=template&id=f68ae30a&lang.js","sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue?vue&type=template&id=f68ae30a&lang.js"],"sourcesContent":["<template>\n  <transition v-on=\"on\">\n    <slot></slot>\n  </transition>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { addClass, removeClass } from '@element-plus/utils/dom'\n\nexport default defineComponent({\n  name: 'ElCollapseTransition',\n  setup() {\n    return {\n      on: {\n        beforeEnter(el) {\n          addClass(el, 'collapse-transition')\n          if (!el.dataset) el.dataset = {}\n\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n          el.style.height = '0'\n          el.style.paddingTop = 0\n          el.style.paddingBottom = 0\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow\n          if (el.scrollHeight !== 0) {\n            el.style.height = `${el.scrollHeight}px`\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          } else {\n            el.style.height = ''\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          }\n\n          el.style.overflow = 'hidden'\n        },\n\n        afterEnter(el) {\n          // for safari: remove class then reset height is necessary\n          removeClass(el, 'collapse-transition')\n          el.style.height = ''\n          el.style.overflow = el.dataset.oldOverflow\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {}\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n          el.dataset.oldOverflow = el.style.overflow\n\n          el.style.height = `${el.scrollHeight}px`\n          el.style.overflow = 'hidden'\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            // for safari: add class after set height, or it will jump to zero height suddenly, weired\n            addClass(el, 'collapse-transition')\n            // fix #968 collapse animation failure.\n            // in vue3.0.4, transitionProperty is set 'none' to avoid 'v-leave-from' issue\n            el.style.transitionProperty = 'height'\n            el.style.height = 0\n            el.style.paddingTop = 0\n            el.style.paddingBottom = 0\n          }\n        },\n\n        afterLeave(el) {\n          removeClass(el, 'collapse-transition')\n          el.style.height = ''\n          el.style.overflow = el.dataset.oldOverflow\n          el.style.paddingTop = el.dataset.oldPaddingTop\n          el.style.paddingBottom = el.dataset.oldPaddingBottom\n        },\n      },\n    }\n  },\n})\n</script>\n"],"names":["_createBlock","_toHandlers","_renderSlot"],"mappings":";;;;;;;0BACEA,gCAAYC,eAAS;yBACnB;MAAAC;;;;;;;;"}