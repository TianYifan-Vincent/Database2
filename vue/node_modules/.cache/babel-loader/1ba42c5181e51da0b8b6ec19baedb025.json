{"remainingRequest":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Login.vue","mtime":1653736177451},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\babel.config.js","mtime":1637349044000},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1652862438123},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652862439061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbC9yZXF1ZXN0IjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHJldHVybiB7CiAgICAgIHN0b3JlOiBzdG9yZQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICByZXF1ZXN0LmdldCgiL3VzZXIvbG9naW4vIi5jb25jYXQoX3RoaXMuZm9ybS51c2VybmFtZSwgIi8iKS5jb25jYXQoX3RoaXMuZm9ybS5wYXNzd29yZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNbMF0uZGF0YSkKICAgICAgICAgICAgaWYgKHJlc1swXS5jb2RlID09PSA0NTUpIHsKICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5jb21taXQoJ3N1Ym1pdENsaWVudEluZm8nLCByZXNbMF0uZGF0YSk7IC8v5ZCM5q2l5o+Q5Lqk5Liq5Lq65L+h5oGv5pWw5o2uCgoKICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5jb21taXQoJ3NldHN0YXR1cycsIHJlc1sxXS5kYXRhKTsgLy/mj5DkuqTkuKrkurrouqvku70KCgogICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5jb21taXQoJ3N1Ym1pdFZlaGljbGVJbmZvJywgcmVzWzJdLmRhdGEpOyAvL+WQjOatpeaPkOS6pOi9pui+huaVsOaNrgoKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuc3RvcmUuY29tbWl0KCdzZXRWZWhpY2xlJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m76ZmG5oiQ5YqfIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAocmVzWzFdLmRhdGEgPT09ICJDbGllbnQiKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9jbGllbnQiKTsgLy/nmbvpmYbmiJDlip/lkI7ov5vooYzpobXpnaLot7PovazvvIzot7PovazliLDlrqLmiLfpobXpnaIKCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNbMV0uZGF0YSA9PT0gIlVzZXIiKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7IC8v55m76ZmG5oiQ5Yqf5ZCO6L+b6KGM6aG16Z2i6Lez6L2s77yM6Lez6L2s5Yiw5Lia5Yqh5ZGY6aG16Z2iCgogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9yZXBhaXJtYW4iKTsgLy/nmbvpmYbmiJDlip/lkI7ov5vooYzpobXpnaLot7PovazvvIzot7PovazliLDnu7Tkv67lkZjpobXpnaIKCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNbMF0ubXNnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3JlZ2lzdGVyJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Login.vue"],"names":[],"mappings":";;;AAsBA,OAAO,OAAP,MAAoB,gBAApB;AACA,SAAS,QAAT,QAAyB,MAAzB;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAFa,mBAEN;AACL,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,WAAM;AACJ,MAAA,KAAI,EAAJ;AADI,KAAN;AAGD,GAPY;AAQb,EAAA,IARa,kBAQP;AACJ,WAAO;AACL,MAAA,IAAI,EAAE;AACJ,QAAA,QAAQ,EAAC,EADL;AAEJ,QAAA,QAAQ,EAAC;AAFL,OADD;AAKL,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,CACR;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,QAA3B;AAAqC,UAAA,OAAO,EAAE;AAA9C,SADQ,CADL;AAIL,QAAA,QAAQ,EAAE,CACR;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,OAA3B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SADQ;AAJL;AALF,KAAP;AAcD,GAvBY;AAwBb,EAAA,OAAO,EAAC;AACN,IAAA,KADM,mBACC;AAAA;;AACL,WAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,CAA4B,UAAC,KAAD,EAAW;AACrC,YAAI,KAAJ,EAAW;AACT,UAAA,OAAO,CAAC,GAAR,uBAA2B,KAAI,CAAC,IAAL,CAAU,QAArC,cAAiD,KAAI,CAAC,IAAL,CAAU,QAA3D,GAAuE,IAAvE,CAA4E,UAAA,GAAE,EAAK;AACjF;AACA,gBAAI,GAAG,CAAC,CAAD,CAAH,CAAO,IAAP,KAAgB,GAApB,EAAyB;AACvB,cAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,kBAAlB,EAAsC,GAAG,CAAC,CAAD,CAAH,CAAO,IAA7C,EADuB,CAC2B;;;AAClD,cAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,WAAlB,EAA+B,GAAG,CAAC,CAAD,CAAH,CAAO,IAAtC,EAFuB,CAEoB;;;AAC3C,kBAAI,GAAG,CAAC,MAAJ,KAAa,CAAjB,EAAmB;AACjB,gBAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,mBAAlB,EAAuC,GAAG,CAAC,CAAD,CAAH,CAAO,IAA9C,EADiB,CACkC;;AACrD,eAFA,MAEM;AACJ,gBAAA,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,YAAlB;AACF;;AACA,cAAA,KAAI,CAAC,QAAL,CAAc;AACZ,gBAAA,IAAI,EAAE,SADM;AAEZ,gBAAA,OAAO,EAAE;AAFG,eAAd;;AAIA,kBAAI,GAAG,CAAC,CAAD,CAAH,CAAO,IAAP,KAAgB,QAApB,EAA6B;AAC3B,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,SAAlB,EAD2B,CACG;;AAChC,eAFA,MAGK,IAAG,GAAG,CAAC,CAAD,CAAH,CAAO,IAAP,KAAgB,MAAnB,EAA0B;AAC7B,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,OAAlB,EAD6B,CACD;;AAC9B,eAFK,MAGD;AACF,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,YAAlB,EADE,CAC+B;;AACnC;AAEF,aAtBA,MAsBO;AACL,cAAA,KAAI,CAAC,QAAL,CAAc;AACZ,gBAAA,IAAI,EAAE,OADM;AAEZ,gBAAA,OAAO,EAAE,GAAG,CAAC,CAAD,CAAH,CAAO;AAFJ,eAAd;AAIF;AACD,WA9BD;AA+BF;AACD,OAlCD;AAmCD,KArCK;AAsCN,IAAA,QAtCM,sBAsCI;AACR,WAAK,OAAL,CAAa,OAAb,CAAqB,WAArB;AACF;AAxCM;AAxBK,CAAf","sourcesContent":["<template>\n<div style=\"width: 100%; height: 100vh; background-color: darkslateblue; overflow:hidden\">\n  <div style=\"width: 400px; margin: 150px auto\">\n    <div style=\"color: #cccccc; font-size: 30px; text-align: center; padding:30px 0 \">汽车维修系统</div>\n    <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n      <el-icon><user /></el-icon>\n      <el-form-item prop=\"username\">\n        <el-input v-model=\"form.username\" placeholder=\"用户名\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <el-input v-model=\"form.password\" placeholder=\"密码\" show-password @keyup.enter.native=\"login\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button style = \"width:100%\" type=\"primary\" @click=\"login\">登陆</el-button>\n        <el-button style = \"margin-left:0;margin-top:10px;width:100%\" type=\"primary\" @click=\"register\">注册</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</div>\n</template>\n\n<script>\nimport request from \"@/util/request\";\nimport { useStore } from 'vuex'\n\n\nexport default {\n  name: \"Login\",\n  setup(){\n    const store = useStore()\n    return{\n      store\n    }\n  },\n  data(){\n    return {\n      form: {\n        username:'',\n        password:''\n      },\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      }\n    }\n  },\n  methods:{\n    login(){\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          request.get(`/user/login/${this.form.username}/${this.form.password}`).then(res => {\n            // console.log(res[0].data)\n            if (res[0].code === 455) {\n              this.store.commit('submitClientInfo', res[0].data)//同步提交个人信息数据\n              this.store.commit('setstatus', res[1].data)//提交个人身份\n              if (res.length===3){\n                this.store.commit('submitVehicleInfo', res[2].data)//同步提交车辆数据\n              } else{\n                this.store.commit('setVehicle')\n              }\n              this.$message({\n                type: \"success\",\n                message: \"登陆成功\"\n              })\n              if (res[1].data === \"Client\"){\n                this.$router.push(\"/client\")  //登陆成功后进行页面跳转，跳转到客户页面\n              }\n              else if(res[1].data === \"User\"){\n                this.$router.push(\"/home\")  //登陆成功后进行页面跳转，跳转到业务员页面\n              }\n              else{\n                this.$router.push(\"/repairman\")  //登陆成功后进行页面跳转，跳转到维修员页面\n              }\n\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res[0].msg\n              })\n            }\n          })\n        }\n      })\n    },\n    register(){\n      this.$router.replace('/register')\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}