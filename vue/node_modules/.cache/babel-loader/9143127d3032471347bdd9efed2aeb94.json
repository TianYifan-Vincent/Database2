{"remainingRequest":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Repairman.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Repairman.vue","mtime":1653744518220},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\babel.config.js","mtime":1637349044000},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1652862438123},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652862439061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbC9yZXF1ZXN0IjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXBhaXJtYW4nLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySWQ6IG51bGwsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBmb3JtOiB7fSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMTAsCiAgICAgIHRhYmxlRGF0YTogW10KICAgIH07CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgcmV0dXJuIHsKICAgICAgc3RvcmU6IHN0b3JlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldHVzZXJmb3JtOiBmdW5jdGlvbiBnZXR1c2VyZm9ybSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuc3RhdGUuZm9ybS51c2VySWQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g5L6m5ZCs5Zmo5pys6LSo5LiK5piv5LiA5Liq5Ye95pWw77yM6KaB55uR6KeG5ZOq5Liq5pWw5o2u55qE5Y+Y5YyW77yM5bCx5oqK5pWw5o2u5ZCN5L2c5Li65pa55rOV5ZCN5Y2z5Y+vCiAgICAvLyDmlrDlgLzlnKjliY3vvIzml6flgLzlnKjlkI4KICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKG5ld1ZhbCkgewogICAgICBpZiAobmV3VmFsID09PSAnJykgewogICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VySWQgPSB0aGlzLmdldHVzZXJmb3JtOwogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi91c2VyL3JlcGFpcm1hbi9ub3RFbnN1cmVkLyIuY29uY2F0KHRoaXMudXNlcklkLCAiLyIpLmNvbmNhdCh0aGlzLmN1cnJlbnRQYWdlLCAiLyIpLmNvbmNhdCh0aGlzLnBhZ2VTaXplLCAiLyIpLmNvbmNhdCh0aGlzLnNlYXJjaCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsgLy/mlbDnu4TnsbvnmoTmlbDmja4KCiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy/mgLvmnaHmlbAKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb3cpKQogICAgICAvL2NvbnNvbGUubG9nKCJFZGl0IENsaWNrISIpCiAgICAgIC8vIHRoaXMuJHJlZnNbJ2Zvcm1EYXRhJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgcm93LnJlcGFpcm1hbklkID0gdGhpcy51c2VySWQ7CiAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgIHJlcXVlc3QucHV0KCIvdXNlci9yZXBhaXJtYW4vYWZmaXJtIiwgcm93KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDQ1NykgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAvL+aUueWPmOW9k+WJjeavj+mhteS4quaVsOinpuWPkQogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgewogICAgICAvL+aUueWPmOW9k+WJjemhteeggeinpuWPkQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Repairman.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"padding: 10px\">\r\n    <div style=\"margin:10px 0\">\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>\r\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>\r\n    </div>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%\"\r\n        size=\"large\">\r\n      <el-table-column prop=\"repairId\" label=\"订单号\" width=\"180\" sortable />\r\n      <el-table-column prop=\"license\" label=\"车牌号\" width=\"180\" />\r\n      <el-table-column prop=\"vin\" label=\"车架号\"  />\r\n      <el-table-column prop=\"proId\" label=\"维修项目编号\"  />\r\n      <el-table-column prop=\"pname\" label=\"维修项目名\"  />\r\n      <el-table-column prop=\"failure\" label=\"具体问题\"  />\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"success\" @click=\"handleEdit(scope.row)\" style=\"font-size: medium\">确认维修</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"pageSize\"\r\n          :pager-count=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n\r\nimport request from \"@/util/request\";\r\nimport {useStore} from \"vuex\";\r\nexport default {\r\n  name: 'Repairman',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      userId:null,\r\n      currentPage: 1,\r\n      form: {},\r\n      dialogVisible: false,\r\n      search: null,\r\n      pageSize:10,\r\n      total: 10,\r\n      tableData: [],\r\n    }\r\n  },\r\n  setup(){\r\n    const store = useStore()\r\n    return{\r\n      store,\r\n    }\r\n  },\r\n  computed:{\r\n    getuserform(){\r\n      return this.store.state.form.userId\r\n    }\r\n  },\r\n  watch:{\r\n    // 侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名即可\r\n    // 新值在前，旧值在后\r\n    search(newVal) {\r\n      if (newVal === ''){\r\n        this.search=null\r\n      }\r\n      this.load()\r\n    }\r\n  },\r\n  created(){\r\n    this.userId=this.getuserform\r\n    this.load()\r\n  },\r\n  methods:{\r\n    load(){\r\n      request.get(`/user/repairman/notEnsured/${this.userId}/${this.currentPage}/${this.pageSize}/${this.search}`).then(res => {\r\n        console.log(res)\r\n        this.tableData = res.data.list//数组类的数据\r\n        this.total = res.data.total//总条数\r\n      })\r\n    },\r\n    add(){\r\n      this.dialogVisible = true;\r\n      this.form = {}\r\n    },\r\n    handleEdit(row){\r\n      // this.form = JSON.parse(JSON.stringify(row))\r\n      //console.log(\"Edit Click!\")\r\n      // this.$refs['formData'].resetFields();\r\n      row.repairmanId=this.userId\r\n      console.log(row)\r\n      request.put(\"/user/repairman/affirm\", row).then(res => {\r\n        console.log(res)\r\n        if (res.code === 457) {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: res.msg\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n      this.load()\r\n      this.dialogVisible = true\r\n    },\r\n    handleSizeChange(pageSize){ //改变当前每页个数触发\r\n      this.pageSize = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum){  //改变当前页码触发\r\n      this.currentPage = pageNum\r\n      this.load()\r\n    }\r\n  },\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}