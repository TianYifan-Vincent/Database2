{"remainingRequest":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Home.vue","mtime":1653812865575},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\babel.config.js","mtime":1637349044000},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1652862438123},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652862437500},{"path":"E:\\springboot+vue\\springboot-vue-demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652862439061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbC9yZXF1ZXN0IjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGZvcm06IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoOiBudWxsLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAxMCwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICByZXR1cm4gewogICAgICBzdG9yZTogc3RvcmUKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgfSwKICB3YXRjaDogewogICAgLy8g5L6m5ZCs5Zmo5pys6LSo5LiK5piv5LiA5Liq5Ye95pWw77yM6KaB55uR6KeG5ZOq5Liq5pWw5o2u55qE5Y+Y5YyW77yM5bCx5oqK5pWw5o2u5ZCN5L2c5Li65pa55rOV5ZCN5Y2z5Y+vCiAgICAvLyDmlrDlgLzlnKjliY3vvIzml6flgLzlnKjlkI4KICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKG5ld1ZhbCkgewogICAgICBpZiAobmV3VmFsID09PSAnJykgewogICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCgpIHsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvdXNlci9zaG93L2NsaWVudC8iLmNvbmNhdCh0aGlzLmN1cnJlbnRQYWdlLCAiLyIpLmNvbmNhdCh0aGlzLnBhZ2VTaXplLCAiLyIpLmNvbmNhdCh0aGlzLnNlYXJjaCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsgLy/mlbDnu4TnsbvnmoTmlbDmja4KCiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy/mgLvmnaHmlbAKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybS5kaXNjb3VudCA8PSAwIHwgdGhpcy5mb3JtLmRpc2NvdW50ID4gMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmipjmiaPnjofojIPlm7TkuI3lr7nvvIEiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXF1ZXN0LnB1dCgiL3VzZXIvY2xpZW50L3VwZGF0ZSIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSA0NTcpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIue8lui+keaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWQoKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChyb3cpIHsKICAgICAgdGhpcy5mb3JtID0gcm93OwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgLy/mlLnlj5jlvZPliY3mr4/pobXkuKrmlbDop6blj5EKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgLy/mlLnlj5jlvZPliY3pobXnoIHop6blj5EKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2VOdW07CiAgICAgIHRoaXMubG9hZCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["E:\\springboot+vue\\springboot-vue-demo\\vue\\src\\views\\Home.vue"],"names":[],"mappings":";;;AAoFA;AAEA,OAAO,OAAP,MAAoB,gBAApB;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,WAAW,EAAE,CADR;AAEL,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,aAAa,EAAE,KAHV;AAIL,MAAA,MAAM,EAAE,IAJH;AAKL,MAAA,QAAQ,EAAC,EALJ;AAML,MAAA,KAAK,EAAE,EANF;AAOL,MAAA,SAAS,EAAE;AAPN,KAAP;AASD,GAfY;AAgBb,EAAA,KAhBa,mBAgBN;AACL,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,WAAO;AACL,MAAA,KAAI,EAAJ;AADK,KAAP;AAGD,GArBY;AAsBb,EAAA,OAtBa,qBAsBJ;AACP,SAAK,IAAL;AACD,GAxBY;AAyBb,EAAA,KAAK,EAAC;AACJ;AACA;AACA,IAAA,MAHI,kBAGG,MAHH,EAGW;AACb,UAAI,MAAK,KAAM,EAAf,EAAkB;AAChB,aAAK,MAAL,GAAY,IAAZ;AACF;;AACA,WAAK,IAAL;AACF;AARI,GAzBO;AAmCb,EAAA,OAAO,EAAC;AACN,IAAA,MADM,oBACE;AACN,WAAK,IAAL;AACD,KAHK;AAIN,IAAA,IAJM,kBAIA;AAAA;;AACJ,MAAA,OAAO,CAAC,GAAR,6BAAiC,KAAK,WAAtC,cAAqD,KAAK,QAA1D,cAAsE,KAAK,MAA3E,GAAqF,IAArF,CAA0F,UAAA,GAAE,EAAK;AAC/F,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,QAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,IAA1B,CAF+F,CAEjE;;AAC9B,QAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB,CAH+F,CAGpE;AAC5B,OAJD;AAKD,KAVK;AAWN,IAAA,GAXM,iBAWD;AACH,WAAK,aAAL,GAAqB,IAArB;AACA,WAAK,IAAL,GAAY,EAAZ;AACD,KAdK;AAeN,IAAA,IAfM,kBAeC;AAAA;;AACL,UAAK,KAAK,IAAL,CAAU,QAAV,IAAqB,CAAtB,GAA6B,KAAK,IAAL,CAAU,QAAV,GAAmB,CAApD,EAAwD;AACtD,aAAK,QAAL,CAAc;AACZ,UAAA,IAAI,EAAE,OADM;AAEZ,UAAA,OAAO,EAAE;AAFG,SAAd;AAIA;AACF;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,KAAK,IAAxC,EAA8C,IAA9C,CAAmD,UAAA,GAAE,EAAK;AACxD,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,YAAI,GAAG,CAAC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,UAAA,MAAI,CAAC,QAAL,CAAc;AACZ,YAAA,IAAI,EAAE,SADM;AAEZ,YAAA,OAAO,EAAE;AAFG,WAAd;AAIF,SALA,MAKO;AACL,UAAA,MAAI,CAAC,QAAL,CAAc;AACZ,YAAA,IAAI,EAAE,OADM;AAEZ,YAAA,OAAO,EAAE,GAAG,CAAC;AAFD,WAAd;AAIF;AACD,OAbD;AAcA,WAAK,IAAL;AACA,WAAK,aAAL,GAAqB,KAArB;AACD,KAvCK;AAwCN,IAAA,UAxCM,sBAwCK,GAxCL,EAwCS;AACb,WAAK,IAAL,GAAU,GAAV;AACA,WAAK,aAAL,GAAqB,IAArB;AACD,KA3CK;AA4CN,IAAA,gBA5CM,4BA4CW,QA5CX,EA4CoB;AAAE;AAC1B,WAAK,QAAL,GAAgB,QAAhB;AACA,WAAK,IAAL;AACD,KA/CK;AAgDN,IAAA,mBAhDM,+BAgDc,OAhDd,EAgDsB;AAAG;AAC7B,WAAK,WAAL,GAAmB,OAAnB;AACA,WAAK,IAAL;AACF;AAnDM;AAnCK,CAAf","sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n<!--    功能区-->\n<!--    <div style=\"margin:10px 0\">-->\n<!--      <el-button type=\"primary\" @click=\"add\">新增</el-button>-->\n<!--      <el-button type=\"primary\">导入</el-button>-->\n<!--      <el-button type=\"primary\">导出</el-button>-->\n<!--    </div>-->\n<!--    搜索区-->\n    <div style=\"margin:10px 0\">\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\"></el-input>\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"select\">查询</el-button>\n    </div>\n    <el-table\n        :data=\"tableData\"\n        border\n        stripe\n        style=\"width: 100%\"\n        size=\"large\">\n      <el-table-column prop=\"clientId\" label=\"客户编号\" width=\"150\" sortable />\n      <el-table-column prop=\"name\" label=\"客户名称\" width=\"150\" />\n      <el-table-column prop=\"nature\" label=\"客户性质\"  width=\"150\"/>\n      <el-table-column prop=\"discount\" label=\"折扣率\" width=\"150\" />\n      <el-table-column prop=\"contact\" label=\"联系人\"  />\n      <el-table-column prop=\"phone\" label=\"联系电话\"  />\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"200\">\n        <template #default=\"scope\">\n          <el-button type=\"primary\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5, 10, 20]\"\n          :page-size=\"pageSize\"\n          :pager-count=\"10\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n      >\n      </el-pagination>\n\n      <el-dialog\n          v-model=\"dialogVisible\"\n          title=\"基本信息\"\n          width=\"30%\"\n      >\n        <el-form ref=\"formData\" :model=\"form\" label-width=\"120px\">\n<!--            <el-form-item label=\"客户编号\" prop=\"clientID\">-->\n<!--              <el-input v-model=\"form.client_id\" placeholder=\"请输入客户编号\" style=\"width: 70%\"/>-->\n<!--            </el-form-item>-->\n            <el-form-item label=\"客户名称\" prop=\"name\">\n              <el-input v-model=\"form.name\" placeholder=\"请输入客户名称\" style=\"width: 70%\"/>\n            </el-form-item>\n            <el-form-item label=\"客户性质\" prop=\"nature\">\n              <el-select v-model=\"form.nature\" placeholder=\"请输入客户性质\" style=\"width: 70%\">\n                <el-option label=\"个人\" value=\"个人\" />\n                <el-option label=\"单位\" value=\"单位\" />\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"折扣率\" prop=\"discount\">\n              <el-input v-model=\"form.discount\" placeholder=\"请输入折扣率\" style=\"width: 70%\"/>\n            </el-form-item>\n            <el-form-item label=\"联系人\" prop=\"contact\">\n              <el-input v-model=\"form.contact\" placeholder=\"请输入联系人\" style=\"width: 70%\"/>\n            </el-form-item>\n            <el-form-item label=\"联系电话\" prop=\"phone\">\n              <el-input v-model=\"form.phone\" placeholder=\"请输入联系电话\" style=\"width: 70%\"/>\n            </el-form-item>\n          </el-form>\n        <template #footer>\n          <span class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"save\">确定</el-button>\n      </span>\n        </template>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport request from \"@/util/request\";\nimport {useStore} from \"vuex\";\nexport default {\n  name: 'Home',\n  components: {\n\n  },\n  data() {\n    return {\n      currentPage: 1,\n      form: {},\n      dialogVisible: false,\n      search: null,\n      pageSize:10,\n      total: 10,\n      tableData: [],\n    }\n  },\n  setup(){\n    const store = useStore()\n    return {\n      store\n    }\n  },\n  created(){\n    this.load()\n  },\n  watch:{\n    // 侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名即可\n    // 新值在前，旧值在后\n    search(newVal) {\n      if (newVal === ''){\n        this.search=null\n      }\n      this.load()\n    }\n  },\n  methods:{\n    select(){\n      this.load()\n    },\n    load(){\n      request.get(`/user/show/client/${this.currentPage}/${this.pageSize}/${this.search}`).then(res => {\n        console.log(res)\n        this.tableData = res.data.list//数组类的数据\n        this.total = res.data.total//总条数\n      })\n    },\n    add(){\n      this.dialogVisible = true;\n      this.form = {}\n    },\n    save() {\n      if ((this.form.discount <=0 ) | (this.form.discount>1)) {\n        this.$message({\n          type: \"error\",\n          message: \"折扣率范围不对！\"\n        })\n        return\n      }\n      request.put(\"/user/client/update\", this.form).then(res => {\n        console.log(res)\n        if (res.code === 457) {\n          this.$message({\n            type: \"success\",\n            message: \"编辑成功\"\n          })\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          })\n        }\n      })\n      this.load()\n      this.dialogVisible = false\n    },\n    handleEdit(row){\n      this.form=row\n      this.dialogVisible = true\n    },\n    handleSizeChange(pageSize){ //改变当前每页个数触发\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum){  //改变当前页码触发\n      this.currentPage = pageNum\n      this.load()\n    }\n  },\n}\n</script>\n"],"sourceRoot":""}]}